# BazarakiUpdate

Автоматическая актуализация данных в базе данных Mysql в соответствии с сайтом недвижимости bazaraki.

### Алгоритм работы:

Перед началом работы подключаем я к базе данных(далее БД) и проверяем её работоспособность, далее получаем все данных из БД для дальнейшей работы. **Он не запустится, если Вы не скормите ему файлы с настройками!**

Скрипт отрабатывает один раз в минуту и состоит из следующих этапов:

* Парсинг информации по запросу с bazaraki;
* Сличение информации из bazaraki и базы данных, решение задачи о наличии/отсутствии сведений о обновлении БД;
* Обновление БД.

### Структура программы:

*Исходный код → clean arhitecture*

* Программа состоит из 3 слоев:
* [cmd ](cmd/)- старт программы;
* [internal ](internal/)- бизнес-логика, которая отвечает за логику исполняемый программы и использует функционал слоя pkg;
* [pkg ](pkg/)- функционал, необходимый для работы всех подпрограмма, ним относится [пакет БД](pkg/DataBase/) и [пакет парсинга bazaraki](pkg/bazaraki/).

### Как скомпилировать:

```bash
go mod tidy
go build cmd/main/main.go
```

### Как запустить:

Запуск происходит с некоторыми исходными данными. Для начала работы необходимы файлы, которые содержат сведения о подключении к БД и токен от телеграм бота:

```bash
./main [Путь к файлу настройки БД] [Путь к файлу, содержащий токен Telegram] [Чат ID Telegram]
```
